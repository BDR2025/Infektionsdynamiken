<!doctype html>
<html lang="de" data-mode="school">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SIR Modell</title>

  <link rel="stylesheet" href="./css/base.css">
  <link rel="stylesheet" href="./css/layout.css">
  <link rel="stylesheet" href="./css/components.css">
  <link rel="stylesheet" href="./css/pages/model.css">
  <link rel="stylesheet" href="./css/modes.css">
</head>
<body data-page="model-sir" data-phase="intro">
  <div data-include="header"></div>

  <main id="content" role="main">
    <div class="edge-nav" aria-hidden="false">
      <a class="edge edge-prev" href="modell-sirv.html" data-transition aria-label="Vorheriges Modell">‹</a>
      <a class="edge edge-next" href="modell-seir.html" data-transition aria-label="Nächstes Modell">›</a>
    </div>

    <section class="container panel">
      <!-- Toolbar -->
      <div class="model-toolbar">
        <div class="preset-bar when-school">
          <button class="btn btn-pill" data-preset="school_case1">Fall 1</button>
          <button class="btn btn-pill" data-preset="school_case2">Fall 2</button>
        </div>
        <div class="toolbar-right when-school">
          <button id="btnTry" class="btn btn-primary">Selbst probieren</button>
        </div>
      </div>

      <!-- One permanent grid: chart left, side right -->
      <div class="interactive-grid">
        <!-- Chart -->
        <div class="interactive-chart card">
          <canvas id="sirCanvas" class="responsive"></canvas>
        </div>

        <!-- Side panel: switches between Coach (intro) and KPIs/Regler (interactive) -->
        <aside class="interactive-side">
          <!-- Coach (intro only) -->
          <div id="coachBlock" class="coach-card">
            <video id="coachVideo" playsinline autoplay muted preload="auto" src="assets/Videos/SIR_School_Ben.mp4"></video>
            <label class="sync-row" hidden>
              <input type="checkbox" id="syncCoach" checked> <span>Mit Animation synchronisieren</span>
            </label>
          </div>

          <!-- KPIs (interactive) -->
          <div id="kpiGrid" class="kpi-grid" hidden>
            <div class="kpi-card kpi--neutral">
              <div class="kpi-title">Ansteckungsfaktor</div>
              <div id="kAnsteck" class="kpi-value">–</div>
              <div class="kpi-hint">Ø angesteckte Personen pro Erkranktem</div>
            </div>
            <div class="kpi-card kpi--green">
              <div class="kpi-title">Gesunde Menschen</div>
              <div id="kGesund" class="kpi-value">–</div>
            </div>
            <div class="kpi-card kpi--blue">
              <div class="kpi-title">Genesene Menschen</div>
              <div id="kGenesene" class="kpi-value">–</div>
            </div>
          </div>

          <!-- Regler (interactive) -->
          <div id="controls" class="controls card" hidden>
            <label class="ctrl">
              <span>Ansteckungszahl (Durchschnitt)</span>
              <input type="range" id="rR0" min="0.5" max="4" step="0.1" value="2.0">
              <output id="rR0v">2.0</output>
            </label>
            <label class="ctrl">
              <span>Ansteckungsdauer (Tage)</span>
              <input type="range" id="rDays" min="2" max="5" step="1" value="5">
              <output id="rDaysv">5</output>
            </label>
          </div>
        </aside>
      </div>

      <!-- School text summary under the grid -->
      <div id="schoolSummary" class="notice when-school"></div>
      <div id="uniKpis" class="when-uni"></div>
    </section>
  </main>

  <div data-include="footer"></div>
  <script type="module" src="./js/core/app.js?v=7"></script>
</body>
</html>
