<!doctype html>
<html lang="de" data-mode="school">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Infektionsdynamiken â€“ Start</title>

  <!-- Basis-Styles -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/modes.css">

  <!-- Startseiten-Styles -->
  <link rel="stylesheet" href="css/pages/home.css">
</head>
<body data-page="home">
  <div data-include="header"></div>

  <main id="content" role="main">
    <section class="container panel home">

      <!-- Willkommensbereich -->
      <header class="section-head">
        <h1 class="h">Willkommen</h1>
      </header>

      <!-- Intro-Grid: links Coach-Card (Video), rechts Text-Card (3 Spalten) -->
      <section class="home-intro">
        <!-- Coach-Card: Ben (School) -->
        <article class="home-card coach-card coach-school">
          <button class="audio-toggle" aria-label="Ton umschalten" title="Ton umschalten">ğŸ”ˆ</button>
          <video class="preview" preload="metadata" autoplay muted playsinline loop>
            <source src="assets/video/Welcome_Ben.mp4" type="video/mp4">
            Dein Browser unterstÃ¼tzt kein HTML5-Video.
          </video>
          <h3 class="name">Ben</h3>
        </article>

        <!-- Coach-Card: Mila (Uni) -->
        <article class="home-card coach-card coach-university">
          <button class="audio-toggle" aria-label="Ton umschalten" title="Ton umschalten">ğŸ”ˆ</button>
          <video class="preview" preload="metadata" autoplay muted playsinline loop>
            <source src="assets/video/Welcome_Mila.mp4" type="video/mp4">
            Dein Browser unterstÃ¼tzt kein HTML5-Video.
          </video>
          <h3 class="name">Mila</h3>
        </article>

        <!-- Text-Card (3 Spalten) -->
        <article class="home-card intro-text">
          <!-- Ben/School Text -->
          <div class="intro-copy coach-school">
            <p><strong>Hi, ich bin Ben â€“ schÃ¶n, dass du da bist.</strong></p>
            <p>Bei uns geht es darum, wie sich Krankheiten ausbreiten und wie man eine Welle bremsen kann. Erinnerst du dich an die COVIDâ€‘19â€‘Zeit? Das war spannend â€“ und manchmal auch beunruhigend. Genau solche Themen erklÃ¤re ich dir hier Schritt fÃ¼r Schritt und mit einfachen Beispielen.</p>
            <p>Wenn du unterwegs Lust auf mehr Tiefe hast, kannst du jederzeit zur Uniâ€‘Ansicht wechseln. Dort erwartet dich Mila mit mathematischen Modellen und vielen zusÃ¤tzlichen Details. Viel SpaÃŸ beim Entdecken!</p>
          </div>

          <!-- Mila/Uni Text -->
          <div class="intro-copy coach-university">
            <p><strong>Hallo, ich bin Mila â€“ willkommen.</strong></p>
            <p>Hier betrachten wir die Ausbreitung von Krankheiten mit wissenschaftlicher Brille. Dabei geht es um Themen wie Ãœbertragungsraten, den Verlauf der ImmunitÃ¤t und den Einfluss von MaÃŸnahmen wie Impfen oder Kontaktreduktion. Wir nutzen mathematische Modelle, die oft auf Differentialgleichungen beruhen, um den zeitlichen Verlauf einer Infektion mÃ¶glichst realitÃ¤tsnah zu beschreiben.</p>
            <p>Wenn du einen vereinfachten Einstieg mÃ¶chtest, wechsle zur Schoolâ€‘Ansicht â€“ dort fÃ¼hrt dich Ben ohne viele Formeln Schritt fÃ¼r Schritt durch die Grundlagen.</p>
          </div>
        </article>
      </section>

      <!-- Ansicht wÃ¤hlen -->
      <section class="view-chooser">
        <h2 class="sr-only">Ansicht wÃ¤hlen</h2>
        <p class="lead">WÃ¤hle die Ansicht:</p>
        <div class="view-actions">
          <a class="btn ghost" href="?mode=school" data-mode-target="school">School (Ben)</a>
          <a class="btn primary" href="?mode=uni" data-mode-target="uni">Uni (Mila)</a>
        </div>
      </section>

      <!-- Eyecatcher groÃŸ -->
      <section class="hero-eyecatcher" aria-label="Infektionsdynamik Illustration">
        <img src="assets/img/startingvirus.png" alt="Illustration von Infektionskurven und Viren" loading="lazy">
      </section>

    </section>
  </main>

  <div data-include="footer"></div>

  <!-- Wichtig: richtige Datei fÃ¼r Includes -->
  <script src="/js/includes.js" defer></script>

  <!-- URL-Param/Hash: ?mode=uni | ?mode=school -->
  <script>
  (() => {
    const LSKEY = 'site.mode';
    const qs = new URLSearchParams(location.search);
    const hashMode = (location.hash.match(/mode=(\w+)/)||[])[1];
    const urlMode = (qs.get('mode') || hashMode || '').toLowerCase();
    const valid = (m) => (m === 'uni' || m === 'school') ? m : null;
    const picked = valid(urlMode);
    if (picked) {
      document.documentElement.setAttribute('data-mode', picked);
      document.body.setAttribute('data-mode', picked);
      try { localStorage.setItem(LSKEY, picked); } catch(e){}
    } else {
      try {
        const saved = valid(localStorage.getItem(LSKEY));
        if (saved) {
          document.documentElement.setAttribute('data-mode', saved);
          document.body.setAttribute('data-mode', saved);
        }
      } catch(e){}
    }
    // Buttons setzen den Modus sofort (ohne Reload nÃ¶tig)
    document.addEventListener('click', (ev) => {
      const a = ev.target.closest('a[data-mode-target]');
      if (!a) return;
      ev.preventDefault();
      const mode = a.dataset.modeTarget;
      document.documentElement.setAttribute('data-mode', mode);
      document.body.setAttribute('data-mode', mode);
      try { localStorage.setItem(LSKEY, mode); } catch(e){}
      // URL aktualisieren (ohne reload)
      const url = new URL(location.href);
      url.searchParams.set('mode', mode);
      history.replaceState({}, '', url);
    });
  })();
  </script>

  <!-- Mini-Script: Ton-Button (Autoplay bleibt stumm, Klick aktiviert Ton) -->
  <script>
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.audio-toggle');
    if (!btn) return;
    const card = btn.closest('.coach-card');
    const vid = card?.querySelector('video');
    if (!vid) return;
    vid.muted = !vid.muted;
    if (vid.paused) vid.play().catch(()=>{});
    btn.textContent = vid.muted ? 'ğŸ”ˆ' : 'ğŸ”Š';
    btn.setAttribute('aria-pressed', (!vid.muted).toString());
  });
  </script>
</body>
</html>
